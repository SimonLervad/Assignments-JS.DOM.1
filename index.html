<!DOCTYPE html>
<html>
<head>
	<title>Assignment JS.DOM.1</title>
	<script src="js.js"></script>
	<style type="text/css">
		*{box-sizing: border-box;}
		body {padding:0;margin:0;background-color:#f2f2f2;}
		header {
			background-color:grey;
			margin:0;
			padding:20px 100px;
		}
		.form {
			width:50%;
			background-color:grey;
			padding:100px;
			margin:100px auto;
		}
	</style>
</head>
<body>
<header>
	<h1>Assignment JS.DOM.1</h1>
	<p>
		Write a page with an HTML5 form to enter a name and a birthday. The name must be more than one character long, and the birthday must be a valid date.<br><br>

		The entered data must be caught by JavaScript and used to make a cookie with a name-value pair. The name must be the concatenation of name and birthday, and the value must be '42' as in 'nml251145=42'. Give the cookie a lifespan of 10 minutes. Ten minutes are 0.00694444 years! Test repeatedly until it works.<br><br>

		You may check the cookie content by means of the log.<br><br>

		Once the JavaScript works, close the browser, take 10, and then restart your browser to ascertain that the expiration mechanism works.
	</p>
</header>
<content>
	<div class="form">
		<form id="form" action='#'>
			<input id="name" type="text" name="name" placeholder="Names" minlength="2">
			<input id="date" min="1900-01-01" max="2019-09-19" type="date" name="birthday" placeholder="Birthday">
			<input id="knap" type="submit" name="submit" value="Submit">
		</form>
	</div>
</content>
<script>
    const $ = function(foo) {
    	return document.getElementById(foo);    
	}
    const validate = function() {    	
    	if ($('name').value.length < 2) {
    		window.alert('ugyldigt navn');
			return false;
		}
		createCookie($('name').value, $('date').value, 0.0034222);
		return true;
	}

	const init = function() {
		console.log(document.cookie);
		$('knap').addEventListener('click', validate);
	}
	window.addEventListener('load', init);
</script>
</body>
</html>